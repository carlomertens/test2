<script type="text/javascript">
	var mapWidgets = [];
	
	function handleApiReady(){
		// @smyle: As offical google map guide indicated, need to 
		// ensure google map is initialized after body has been loaded 
		var readyStateCheckInterval = setInterval(function() {
		    if (document.readyState === "complete") {
		    	for ( var i = 0; i < mapWidgets.length; i++) 
					mapWidgets[i].createMap();
		        clearInterval(readyStateCheckInterval);
		    }
		}, 10);
	}
	
	function appendBootstrap() {
		var script = document.createElement("script");
		script.type = "text/javascript";
		script.src = "http://maps.google.com/maps/api/js?libraries=places&sensor=false&callback=handleApiReady";
		document.body.appendChild(script);
	}
</script>
